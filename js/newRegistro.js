$(document).ready(function(){$("#documento, #nombre_p, #apellido_p, #correo, #pass, #edad, #f_nacimiento, #telefono, #imagen").on("input",function(){this.setCustomValidity("")}),$("#register-login").on("submit",function(e){e.preventDefault();let t=$("#documento").val().trim(),o=$("#nombre_p").val().trim(),i=$("#apellido_p").val().trim(),r=$("#correo").val().trim(),n=$("#pass").val().trim(),a=$("#edad").val().trim();$("#f_nacimiento").val().trim();let s=$("#telefono").val().trim(),l=$("#imagen")[0].files[0],d=/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/;if(!/^\d{1,15}$/.test(t)){$("#documento").get(0).setCustomValidity("El documento debe ser un n\xfamero entre 1 y 15 d\xedgitos."),$("#documento")[0].reportValidity();return}if(""===o){$("#nombre_p").get(0).setCustomValidity("El nombre no puede estar vac\xedo."),$("#nombre_p")[0].reportValidity();return}if(!d.test(o)){$("#nombre_p").get(0).setCustomValidity("El nombre solo debe contener letras y espacios."),$("#nombre_p")[0].reportValidity();return}if(""===i){$("#apellido_p").get(0).setCustomValidity("El apellido no puede estar vac\xedo."),$("#apellido_p")[0].reportValidity();return}if(!d.test(i)){$("#apellido_p").get(0).setCustomValidity("El apellido solo debe contener letras y espacios."),$("#apellido_p")[0].reportValidity();return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){$("#correo").get(0).setCustomValidity("Ingrese un correo v\xe1lido."),$("#correo")[0].reportValidity();return}if(!/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d\W]{6,}$/.test(n)){$("#pass").get(0).setCustomValidity("La contrase\xf1a debe tener al menos 6 caracteres, incluyendo al menos una letra y un n\xfamero."),$("#pass")[0].reportValidity();return}if(!/^[1-9][0-9]?$/.test(a)){$("#edad").get(0).setCustomValidity("La edad debe ser un n\xfamero entre 1 y 99."),$("#edad")[0].reportValidity();return}if(!/^\+?[0-9]{10,15}$/.test(s)){$("#telefono").get(0).setCustomValidity("Ingrese un n\xfamero de tel\xe9fono v\xe1lido (10-15 d\xedgitos)."),$("#telefono")[0].reportValidity();return}if(l){if(!/(\.jpg|\.jpeg|\.png|\.gif)$/i.exec(l.name)){$("#imagen").get(0).setCustomValidity("Solo se permiten im\xe1genes con las extensiones .jpg, .jpeg, .png o .gif."),$("#imagen")[0].reportValidity();return}if(l.size>2097152){$("#imagen").get(0).setCustomValidity("La imagen debe ser menor a 2 MB."),$("#imagen")[0].reportValidity();return}}else{$("#imagen").get(0).setCustomValidity("Debe seleccionar una imagen."),$("#imagen")[0].reportValidity();return}let m=new FormData(this);$.ajax({url:"../controller/registerUser.php",type:"POST",data:m,contentType:!1,processData:!1,beforeSend:function(){$("#loader").removeClass("esconder"),$("body").addClass("hidenn")},success:function(e){var t=JSON.parse(e);$("#loader").addClass("esconder"),$("body").removeClass("hidenn"),1==t.codigo?($("#register-login")[0].reset(),Swal.fire({icon:"success",title:"\xc9XITO",html:t.mensaje,allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!1,confirmButtonText:"Aceptar"}).then(e=>{e.isConfirmed&&(window.location.href="../login/")})):Swal.fire({icon:"error",title:"Ooops.",html:t.mensaje})}})})});